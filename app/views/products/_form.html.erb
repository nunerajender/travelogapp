<section class="basic-section <%= 'hide' unless @show_section == 'basic' %>">
	<!--Basic section-->
	<%= form_for(@product) do |f| %>
		<div class="row">
			<div class="col-xs-10 col-md-10">
				<h4>Basics</h4>
				<p>
					People searching on Airbnb can filter by listing basics to find a space that matches their needs.
				</p>
				<hr>
			</div>
			<div class="col-xs-10 col-md-10">
				<!-- <h4>Places</h4> -->
				
				<div class="form-group row">
					<%= f.label :name, 'Name:', :class => 'col-xs-12 control-label' %>
			    <div class="col-xs-12">
			    	<%= f.text_field :name, autofocus: true, :class => 'form-control' %>
			    </div>
				</div>

				<div class="form-group row">
					<%= f.label :product_category_id, 'Product Category:', :class => 'col-xs-12' %>
					<div class="col-xs-12">
						<%= f.select(:product_category_id, ProductCategory.order('id ASC').collect {|p| [ p.name, p.id ] }, {include_blank: false} , :class => 'form-control') %>
					</div>
				</div>

				<div class="form-group row">
					<%= f.label :highlight, 'Highlight:', :class => 'col-xs-12' %><br />
					<div class="col-xs-12">
						<%= f.text_area :highlight, :class => 'form-control' %>
					</div>
				</div>

				
			</div>
		</div>
		<hr>
		<div class="row">
			<input type="hidden" name="step-param" value="basic">
			<div class="col-xs-12 next-bottom paddingzero">
				<div class="col-xs-6">
					<!-- <a href="#" class="btn-back">Back</a> -->
				</div>
				<div class="col-xs-6">
					<% if @product.new_record? %>
						<%= f.submit 'See Next', :class => 'btn btn-next btn-large pull-right' %>
					<% else %>
						<%= f.submit 'See Next', :class => 'btn btn-next btn-large pull-right' %>
					<% end %>
					
				</div>
			</div>
		</div>
	<% end %>
</section>

<section class="description-section <%= 'hide' unless @show_section == 'description' %>">
	<!--Description section-->
	<%= form_for(@product) do |f| %>
		<div class="row">
			<div class="col-xs-10 col-md-10">
				<h4>Tell travelers about your space</h4>
				<p>
					Every space on Airbnb is unique. Highlight what makes your listing welcoming so that it stands out to guests who want to stay in your area.
				</p>
				<hr>
			</div>
			<div class="col-xs-10 col-md-10">
				<h4>Descriptions</h4>
				
				<div class="form-group row">
					<%= f.label :description, 'Description:', :class => 'col-xs-12' %><br />
					<div class="col-xs-12">
						<%= f.text_area :description, :class => 'form-control' %>
					</div>
				</div>
				
			</div>
		</div>
		<hr>
		<div class="row">
			<div class="col-xs-12 next-bottom paddingzero">
				<div class="col-xs-6">
					
					<% if @product.new_record? %>
						<a href="#" class="btn-back">Back</a>
					<% else %>
						<a href="/products/<%= @product.id %>/edit_basic" class="btn-back">Back</a>
					<% end %>
				</div>
				<div class="col-xs-6">
					<% if @product.new_record? %>
						<a href="" class="btn btn-next btn-large pull-right">See Next</a>
						<a href="/products/<%= @product.id %>/edit_location" class="btn btn-next btn-large pull-right">See Next</a>
					<% else %>
						<input type="hidden" name="step-param" value="description">
						<%= f.submit 'See Next', :class => 'btn btn-next btn-large pull-right' %>
						
					<% end %>
				</div>
			</div>
		</div>
	<% end %>
</section>

<section class="location-section <%= 'hide' unless @show_section == 'location' %>">
	<%= form_for(@product) do |f| %>
		<div class="row">
			<div class="col-xs-10 col-md-10">
				<h4>Location</h4>
				<p>
					Every space on Airbnb is unique. Highlight what makes your listing welcoming so that it stands out to guests who want to stay in your area.
				</p>
				<hr>
			</div>
			<div class="col-xs-10 col-md-10">
				<h4>Location</h4>
				
				<div class="form-group row">
					<%= f.label :country, 'Country:', :class => 'col-xs-12' %>
					<div class="col-xs-12">
						<%= f.select(:country, get_country_list.collect {|p| [ p[:country], p[:country] ] }, {include_blank: false} , :class => 'form-control') %>
					</div>
				</div>

				<div class="form-group row">
					<%= f.label :address, 'Street Address:', :placeholder => 'House name/number + street/road', :class => 'col-xs-12' %>
					<div class="col-xs-12">
						<%= f.text_field :address, :class => 'form-control', :autocomplete => 'off', :id => 'route' %>
					</div>
				</div>

				<div class="form-group row">
					<%= f.label :apt, 'Apt, Suite, Bldg. (optional)', :class => 'col-xs-12' %>
					<div class="col-xs-12">
						<%= f.text_field :apt, :class => 'form-control', :placeholder => 'Apt., suite, building access code', :id => 'street_number'%>
					</div>
				</div>

				<div class="form-group row">
					<%= f.label :city, 'City:', :class => 'col-xs-12' %>
					<div class="col-xs-12">
						<%= f.text_field :city, :class => 'form-control', :placeholder => 'City', :id => 'locality'%>
					</div>
				</div>

				<div class="form-group row">
					<%= f.label :state, 'State:', :class => 'col-xs-12' %>
					<div class="col-xs-12">
						<%= f.text_field :state, :class => 'form-control', :placeholder => 'State', :id => 'administrative_area_level_1' %>
					</div>
				</div>

				<div class="form-group row">
					<%= f.label :zip, 'Zip:', :class => 'col-xs-12' %>
					<div class="col-xs-12">
						<%= f.text_field :zip, :class => 'form-control', :id => 'postal_code'%>
					</div>
				</div>
				
			</div>
		</div>
		<hr>
		<div class="row">
			<div class="col-xs-12 next-bottom paddingzero">
				<div class="col-xs-6">
					<% if @product.new_record? %>
						<a href="#" class="btn-back">Back</a>
					<% else %>
						<a href="/products/<%= @product.id %>/edit_description" class="btn-back">Back</a>
					<% end %>
				</div>
				<div class="col-xs-6">
					<% if @product.new_record? %>
						<a href="" class="btn btn-next btn-large pull-right">See Next</a>
						<a href="/products/<%= @product.id %>/edit_photo" class="btn btn-next btn-large pull-right">See Next</a>
					<% else %>
						<input type="hidden" name="step-param" value="location">
						<%= f.submit 'See Next', :class => 'btn btn-next btn-large pull-right' %>
					<% end %>
				</div>
			</div>
		</div>
	<% end %>
</section>

<section class="photos-section <%= 'hide' unless @show_section == 'photo' %>">
	<%= form_for(@product) do |f| %>
		<div class="row">
			<div class="col-xs-12 col-sm-12 col-lg-12">
				<h4>Photos</h4>
				<!-- <p> Add photos of areas guests have access to. You can always come back later and add more.</p> -->
				<hr>
				<div class="form-group">
					<div class="fileUpload btn btn-large btn-upload">
						<span>Upload</span>
						<input name="file_attachment" type="file" id="file_upload" class="upload">
					</div>
				</div>
				<hr>
				
			</div>
		</div>
		<div class="row attachments-container">
			<% if !@product.new_record? %>
				<% @product.product_attachments.each do |attachment| %>
					<div class="col-xs-6 col-md-4">
						<div class="thumbnail panel photo-item upload-photo-frame">
							<img src="<%= attachment.attachment.small.url %>">
						</div>
						<input type="hidden" name="product_attachment[id][]" value="<%= attachment.id %>">
						<button type="button" class="btn btn-default delete-attachment">Delete</button>
					</div>
				<% end %>
			<% end %>

			<div class="col-xs-6 col-md-4">
				<div class="thumbnail panel photo-item empty-photo-frame" name="empty-photo-frame">
					<img src="<%= asset_url('placehold.png') %>">
				</div>
			</div>
			
		</div>
		<hr>
		<div class="row">
			<div class="col-xs-12 next-bottom paddingzero">
				<div class="col-xs-6">
					<% if @product.new_record? %>
						<a href="#" class="btn-back">Back</a>
					<% else %>
						<a href="/products/<%= @product.id %>/edit_location" class="btn-back">Back</a>
					<% end %>
				</div>
				<div class="col-xs-6">
					<% if @product.new_record? %>
						<a href="" class="btn btn-next btn-large pull-right">See Next</a>
						<a href="/products/<%= @product.id %>/edit_price" class="btn btn-next btn-large pull-right">See Next</a>
					<% else %>
						<input type="hidden" name="step-param" value="photo">
						<%= f.submit 'See Next', :class => 'btn btn-next btn-large pull-right photo-submit' %>
					<% end %>
				</div>
			</div>
		</div>
	<% end %>
</section>

<section class="pricing-section <%= 'hide' unless @show_section == 'price' %>">
	<%= form_for(@product) do |f| %>
		<div class="row">
			<div class="col-xs-10 col-md-10">
				<h4>Set a nightly price for your space</h4>
				<p>
					You can set a price to reflect the space, amenities, and hospitality youâ€™ll be providing.
				</p>
			</div>
		</div>
		<hr>
		<div class="row form-group">
			<div class="col-xs-10 col-md-10">
				<!-- <h4>Base price</h4> -->
				<div class="row">
					<div class="form-group form">
						<div class="col-sm-6">
							<div class="form-group">
								<label>Nightly Price</label>
								<div class="input-group">
									<div class="input-group-addon currency-symbol">$</div>
									<input name="product[price_cents]" class="form-control" type="text" value="<%= @product.price_cents / 100 if @product.price_cents.present? %>" <%= "disabled" if @product.variants.present? && @product.variants.count > 0 %>>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="form-group form">
						<div class="col-sm-6">
							<%= f.label :currency, 'Currency' %>
							<%= f.select(:currency, get_currency_list.collect {|p| [ p[:currency], p[:currency] ] }, {include_blank: false} , :class => 'form-control') %>
						</div>
					</div>
				</div>
				<!-- discount filed -->
				<div class="row">
					<div class="form-group form">
						<div class="col-sm-6">
							<div class="form-group">
								<label>Discount</label>
								<div class="input-group">
									<div class="input-group-addon">%</div>
									<input name="product[discount]" class="form-control" type="text" value="<%= @product.discount %>">
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="form-group row">
			<div class="col-xs-12">
				<label>
					<%= f.check_box :refundable, checked: @product.refundable == 1 %>
					Refundable
				</label>
			</div>
		</div>

		<div class="form-group refund-area row">
			<%= f.label :refund_day, 'Refund Day:', :class => 'col-sm-12' %><br />
			<div class="col-xs-6">
				<%= f.text_field :refund_day, :class => 'form-control', :placeholder => 'Refund Day' %>
			</div>
		</div>

		<div class="form-group refund-area row">
			<%= f.label :refund_percent, 'Refund Percent:', :class => 'col-sm-12' %><br />
			<div class="col-sm-6">
				<%= f.text_field :refund_percent, :class => 'form-control', :placeholder => 'Refund Percent' %>
			</div>
		</div>

		<div class="form-group row">
			<div class="col-sm-6">
				<button type="button" id="add-variant-button" class="btn btn-default btn-sm active">Add Variant</button>
			</div>
		</div>
		<div class="variants-container form-group">
			<div class="form-group row hide" id="variantTemplate">
				<div class="col-xs-8">
					<div class="col-xs-12">
						<label for="variant_name">Variant Name:</label><br>
						<input class="form-control" type="text" name="variant[][name]" id="variant_name">
					</div>
					<div class="col-xs-12">
						<label for="variant_price">Variant Price:</label><br>
						

						<div class="input-group">
							<div class="input-group-addon currency-symbol">$</div>
							<input class="form-control" type="text" name="variant[][price_cents]" id="variant_price">
						</div>
					</div>
					
				</div>
				<div class="col-xs-4">
					<button type="button" class="btn btn-default removeButton"><i class="fa fa-minus"></i></button>
				</div>
				
			</div>
			<% if !@product.new_record? %>
				<% @product.variants.each do |variant| %>
					<div class="form-group row">
						<div class="col-xs-8">
							<div class="col-xs-12">
								<label for="variant_name">Variant Name:</label><br>
								<input class="form-control" type="text" value="<%= variant.name %>" name="variant[][name]" id="variant_name">
							</div>
							<div class="col-xs-12">
								<label for="variant_price">Variant Price:</label><br>
								<div class="input-group">
									<div class="input-group-addon currency-symbol">$</div>
									<input class="form-control" type="text" value="<%= variant.price_cents / 100 %>" name="variant[][price_cents]" id="variant_price">
								</div>
							</div>
						</div>
						<div class="col-xs-4">
							<button type="button" class="btn btn-default removeButton"><i class="fa fa-minus"></i></button>
						</div>
					</div>
				<% end %>
			<% end %>
		</div>

		<hr>
		<div class="row">
			<div class="col-xs-12 next-bottom paddingzero">
				<div class="col-xs-6">
					<% if @product.new_record? %>
						<a href="#" class="btn-back">Back</a>
					<% else %>
						<a href="/products/<%= @product.id %>/edit_photo" class="btn-back">Back</a>
					<% end %>
				</div>
				<div class="col-xs-6">
					<% if @product.new_record? %>
						<a href="" class="btn btn-next btn-large pull-right">See Next</a>
						<a href="/products/<%= @product.id %>/edit_price" class="btn btn-next btn-large pull-right">See Next</a>
					<% else %>
						<input type="hidden" name="step-param" value="price">
						<%= f.submit 'See Next', :class => 'btn btn-next btn-large pull-right' %>
					<% end %>
				</div>
			</div>
		</div>

	<% end %>
</section>

<style>
	/*
	* Global add-ons
	*/
	.sub-header {
		padding-bottom: 10px;
		border-bottom: 1px solid #eee;
	}
	/*
	* Top navigation
	* Hide default border to remove 1px line.
	*/
	.navbar-fixed-top {
		border: 0;
	}
	/*
	* Sidebar
	*/
	/* Hide for mobile, show later */
	.sidebar {
		display: none;
		background:#F5F5F5;
	}
	@media (min-width: 768px) {
		.sidebar {
			position: fixed;
			top: 101px;
			bottom: 0;
			left: 0;
			z-index: 1000;
			display: block;
			padding: 20px;
			overflow-x: hidden;
			overflow-y: auto; /* Scrollable contents if viewport is shorter than content. */
			background-color: #f5f5f5;
			border-right: 1px solid #eee;
		}
	}
	/* Sidebar navigation */
	.nav-sidebar {
		margin-right: -21px; /* 20px padding + 1px border */
		margin-bottom: 20px;
		margin-left: -20px;
	}
	.nav-sidebar > li > a {
		padding-right: 20px;
		padding-left: 20px;
	}
	.nav-sidebar > .active > a,
	.nav-sidebar > .active > a:hover,
	.nav-sidebar > .active > a:focus {
		color: #fff;
		background-color: #428bca;
	}
	/*
	* Main content
	*/
	.main {
		padding: 20px;    margin-top: 101px;
	}
	@media (min-width: 768px) {
		.main {
			padding-right: 40px;
			padding-left: 40px;
		}
	}
	.main .page-header {
		margin-top: 0;
	}
	/*
	* Placeholder dashboard ideas
	*/
	.placeholders {
		margin-bottom: 30px;
		text-align: center;
	}
	.placeholders h4 {
		margin-bottom: 0;
	}
	.placeholder {
		margin-bottom: 20px;
	}
	.placeholder img {
		display: inline-block;
		border-radius: 50%;
	}
	.nav-sidebar > .active > a {
		color: #000;
		font-weight: bold;
		background-color: #EDEFED;
	}
	.nav-sidebar > li > a {color: #6d7275;}
	li.sidebar-title a{color: #b2b5b7;}
	/*-----------------------------------------------------------------------*/
	.navbar-white-fixed {
		border-bottom: 1px solid #dce0e0;
		height: 61px;
		padding: 0;
		background: #FFF;
	}
	ul.sidebar {padding:0;}
	ul.sidebar li{ list-style:none;margin: 10px 0; }
	ul.sidebar li a{ color:#adadad;}
	.profile-details {background-color: #FFF;
		border:1px solid #e6e6e6; padding:40px 20px;}
	.profile-form input {background-color: #FFF;
		border:1px solid #adadad;
	}
	.profile-form select {background-color: #FFF;
		border:1px solid #adadad; width:100px;
	}
	.btn-viewprofile { width:200px;color: #333;
		background-color: #FFF;
		border-color: #adadad; margin-top:20px;
	}
	.birthdate .dropdown-menu {
		top: 33px;
	}
	.profile-details .dropdown-toggle {
		width: 130px;
	}
	.profile-page {
		padding-top: 40px;
		background: #fafafa;
	}
	.nav-second-profile {    background: #DBDDDE; padding-top:0; margin-top: 61px;min-height: 40px; z-index:10}
	.nav-second-profile li.active {font-weight: bold; color:#000;}
	.nav-second-profile .navbar-nav>li>a {
		padding-top:8px;
		padding-bottom:8px;
		color: #777;z-index: 10;
	}
	/*dashboard pages*/
	.add-photo-box {box-shadow: 0px 0px 8px 0px rgba(0,0,0,0.1);border: 1px solid #dce0e0;
		background-color: #fff;
		border-radius: 0;padding: 62px 10px 52px; width:200px; height:250px
	}
	.btn-upload {
		border-color: #c4c4c4;
		background: white;
		color: #565a5c;padding: 9px 27px;
		font-size: 16px;
	}
	.fileUpload {
		position: relative;
		overflow: hidden;
		margin: 10px;
	}
	.fileUpload input.upload {
		width: 200px;
		height: 250px;
		display: block;
		position: absolute;
		top: 0;
		right: 0;
		margin: 0;
		padding: 0;
		font-size: 20px;
		cursor: pointer;
		opacity: 0;
		filter: alpha(opacity=0);
	}
	.box-upload {
		width: 201px;
		height: 250px;
		margin: 0;border: 1px solid #dce0e0;
		background-color: #fff;
		box-shadow: 0px 0px 8px 0px rgba(0,0,0,0.1);
		padding: 110px 80px 80px 80px;
		color: #000;
	}
	.box-upload a{ color:#000;}
	.available-select-box {
		background-color: #FFF;
		padding: 70px 20px; border-radius:2px;
		border: #dce0e0 1px solid;
	}
	.main .form-control {        border: 1px solid #c4c4c4;}
	.btn-next {background: #2d5be3; color:#FFF;    padding: 10px 20px; margin-right: 120px;}
	.btn-back {
		color: #2d5be3;
		font-weight: bold;
	}
	.next-bottom { margin-bottom:20px;}

	
	/* created by kyle */
	input[type=file] {
		/*display: none;*/
	}
	.attachments-container .btn.delete-attachment {
		position: absolute;
    top: 0;
    right: 15px;
    height: inherit;
    padding: 2px 10px;
    border-radius: 0;
    opacity: 0.8;
    background-color: #ccc;
	}
	.attachments-container .form-group.col-md-4 {
		position: relative;
	}

	.attachments-container img {
		width: 100%
	}

	.form-control {
		border: 1px solid #ccc;
	}
	.amount-inner .input-group {
		display: table-row;
		line-height: 44px;
	}
	.amount-inner span.input-group-addon.currency-value {
		font-size: 1.8rem;
    padding: 1rem;
    background: none repeat scroll 0 0 #f1f2f2;
    display: table-cell;
	}
	.amount-inner .input-group input {
		margin: 0;
    display: table-cell;
	}

	input[type=checkbox]:focus, .checkbox input[type="checkbox"]:focus + label:before {
		-webkit-appearance: checkbox !important;	
	}
	input[type=checkbox]:hover {
		-webkit-appearance: checkbox !important;	
	}
	.radio input[type="radio"] {
		opacity: 1;
	}
	input[type=radio]:focus, .radio input[type="radio"]:focus + label:before {
		-webkit-appearance: radio !important;	
	}
	input[type=radio]:hover {
		-webkit-appearance: radio !important;	
	}
	.radio label::before {
		border: none;
	}

	.variants-container .form-group.row .col-xs-4 {
		padding-top: 25px;
	}
	.fv-form-bootstrap .fv-icon-no-label {
		z-index: 10;
		right: 10px;
	}
	.has-feedback label ~ .form-control-feedback {
		right: 10px;
	}
</style>

<script>
	$(function() {
		function displayResult(item) {
			$('.alert').show().html('You selected <strong>' + item.value + '</strong>: <strong>' + item.text + '</strong>');
		}
		$('#demo6').typeahead({
			source: [
				'Genting',
				'Zoo Negara',
				'Tioman',
				'Petronas Towers',
				'Batu Caves',
				'Gunung Mulu',
				'Mount Kinabalu',
				'Bako Park',
				'Sunway Lagoon',
				'Pangkor island'
			],
			onSelect: displayResult
		});

	});

	// This example displays an address form, using the autocomplete feature
	// of the Google Places API to help users fill in the information.

	var placeSearch, autocomplete;
	var componentForm = {
	  street_number: 'short_name',
	  route: 'long_name',
	  locality: 'long_name',
	  administrative_area_level_1: 'short_name',
	  // country: 'long_name',
	  postal_code: 'short_name'
	};

	function initAutocomplete() {
	  // Create the autocomplete object, restricting the search to geographical
	  // location types.
	  autocomplete = new google.maps.places.Autocomplete(
	      /** @type {!HTMLInputElement} */(document.getElementById('route')),
	      {types: ['geocode']});

	  // When the user selects an address from the dropdown, populate the address
	  // fields in the form.
	  autocomplete.addListener('place_changed', fillInAddress);
	}

	// [START region_fillform]
	function fillInAddress() {
	  // // Get the place details from the autocomplete object.
	  var place = autocomplete.getPlace();
	  console.log(place.address_components);

	  for (var component in componentForm) {
	    document.getElementById(component).value = '';
	    document.getElementById(component).disabled = false;
	  }

	  // // Get each component of the address from the place details
	  // // and fill the corresponding field on the form.

	  for (var i = 0; i < place.address_components.length; i++) {
	    var addressType = place.address_components[i].types[0];
	    if (componentForm[addressType]) {
	      var val = place.address_components[i][componentForm[addressType]];
	      document.getElementById(addressType).value = val;
	    }
	  }

	  $('form').formValidation('revalidateField', 'product[city]');
		$('form').formValidation('revalidateField', 'product[state]');
	}
	// [END region_fillform]

	// [START region_geolocation]
	// Bias the autocomplete object to the user's geographical location,
	// as supplied by the browser's 'navigator.geolocation' object.
	function geolocate() {
	  if (navigator.geolocation) {
	    navigator.geolocation.getCurrentPosition(function(position) {
	      var geolocation = {
	        lat: position.coords.latitude,
	        lng: position.coords.longitude
	      };
	      var circle = new google.maps.Circle({
	        center: geolocation,
	        radius: position.coords.accuracy
	      });
	      autocomplete.setBounds(circle.getBounds());
	    });
	  }
	}
	// [END region_geolocation]
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCK70SDLsZG5fYn8kLfMj1I7Dy2zXoq6Qk&signed_in=true&libraries=places&callback=initAutocomplete" async defer>
	
</script>

